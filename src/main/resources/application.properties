spring.application.name=PelisApp


# --- Configuraci?n de DataSource (MySQL) - ajustar seg?n tu entorno ---
spring.datasource.url=jdbc:mysql://${SPRING_DATASOURCE_HOST:localhost}:${SPRING_DATASOURCE_PORT:3306}/${SPRING_DATASOURCE_DB:pelisapp}?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:Iirne322*}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# JWT settings (no hard-codear el secreto)
# Use APP_JWT_SECRET env var in production. Default provided for local development (>=32 chars for HS256).
app.jwt.secret=${APP_JWT_SECRET:changeit_0123456789_changeit_0123456789}
app.jwt.access-expiration-ms=${APP_JWT_ACCESS_EXPIRATION_MS:86400000}
app.jwt.refresh-expiration-ms=${APP_JWT_REFRESH_EXPIRATION_MS:604800000}

# Backwards-compatible aliases (optional)
app.jwt.expiration-ms=${app.jwt.access-expiration-ms}
app.jwt.refresh-ttl-sec=${app.jwt.refresh-expiration-ms}

# TMDB API Configuration
app.tmdb.base-url=https://api.themoviedb.org/3
# ? Usando Bearer Token para autenticaci?n (M?S ESTABLE que API key)
app.tmdb.api-key=${TMDB_API_KEY:b6193e852fa50a4add2eb01ddfba8043}
app.tmdb.bearer-token=${TMDB_BEARER_TOKEN:eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNjE5M2U4NTJmYTUwYTRhZGQyZWIwMWRkZmJhODA0MyIsIm5iZiI6MTc0MTk4ODM3OC40MjEsInN1YiI6IjY3ZDRhMjFhOTE2NWYzNzExODAxMDU0MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ilHPYl4g_8fRgOQhy1Q2GyulkxtxebcqjgUE4VshqTM}
app.tmdb.image-base-url=https://image.tmdb.org/t/p
# ? Habilitar carga autom?tica al inicio (50 p?ginas = ~1000 pel?culas)
app.tmdb.load-on-startup=true

# Im?genes descargadas (por defecto en ./data/images y servidas en /images/**)
app.images.storage-path=./data/images
app.images.serve-base=/images

# AI Moderation Configuration
app.moderation.enabled=true
app.moderation.api.url=http://localhost:5000
app.moderation.toxicity.threshold=0.7
app.moderation.review.threshold=0.5
app.moderation.fallback.enabled=true

# Ollama Configuration for AI Moderation
app.moderation.ollama.url=http://localhost:11434
app.moderation.ollama.model=llama3
app.moderation.ollama.timeout=30
app.moderation.ollama.enabled=true

# Spring Cache Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=30m

# Async Configuration
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=8
spring.task.execution.pool.queue-capacity=100

# Server Configuration
server.port=8080

# Modo desarrollo
app.dev-mode=false

# Configuraci?n de Email con Gmail
app.email.enabled=true
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=javierbarcelo2106@gmail.com
spring.mail.password=Iirlmnye322*
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.from=${spring.mail.username}
spring.mail.default-encoding=UTF-8
spring.mail.test-connection=false

# URL base para los enlaces de confirmaci?n
app.base-url=http://localhost:8080




